---
sidebar_position: 1
title: 递归式双引擎
---

# 递归式双引擎架构

Memfit AI 的核心创新在于 **Plan 引擎**（战略层）与 **ReAct 引擎**（战术层）之间的非线性嵌套关系。

## Plan 引擎（战略层）

Plan 引擎负责任务的宏观解构。面对复杂、模糊或长周期的用户意图，系统启动规划引擎：

- 将顶层目标拆解为结构化的 **任务树**
- 建立子任务之间的时序依赖关系
- 定义逻辑关联和执行顺序
- 为 Agent 提供全局视野与执行骨架

这防止了 Agent 在长链路操作中迷失方向。

## ReAct 引擎（战术层）

ReAct 引擎负责原子任务的动态执行。针对每一个子任务，系统实例化独立的 **ReAct Loop**，通过以下闭环运行：

1. **观察 (Observation)** - 收集环境状态和反馈
2. **推理 (Thought)** - 对当前情况进行推理
3. **行动 (Action)** - 执行决定的操作

这种闭环机制赋予了 Agent 应对非确定性环境的能力。

## 递归耦合机制

Memfit AI 的真正威力来自于这两个引擎之间的递归耦合：

- 当 ReAct 引擎遇到超出当前能力范畴的复杂子问题时，可动态触发 Plan 引擎进行 **次级规划**
- Plan 引擎生成的每一个叶子节点任务均由 ReAct 引擎承接落地
- 这种递归调用机制支持了任务的分形扩展
- 系统可适应任意复杂度的业务场景

## 执行流程

```
用户意图
    ↓
Coordinator
    ↓
Plan 引擎 → 任务树生成
    ↓
    ├── 子任务 1 → ReAct Loop
    │       ↓
    │   [复杂问题？] → 是 → 次级规划 (Plan 引擎)
    │                → 否 → 继续执行
    │
    ├── 子任务 2 → ReAct Loop
    │
    └── 子任务 N → ReAct Loop
```

## 优势

1. **可扩展性** - 处理任意复杂度的任务
2. **灵活性** - 在执行过程中适应变化的需求
3. **可靠性** - 每个层级都有自己的错误处理和恢复机制
4. **透明性** - 清晰的任务分解供用户审查

